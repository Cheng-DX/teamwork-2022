import{d as E,u as x,r as y,c as C,a as b,b as D,e as N,w as u,o as O,f as n,g as r,h as k,i as I,_ as S}from"./index.a6534a2f.js";import{u as j}from"./index.2ad508d2.js";import{_ as w}from"./index.77493d12.js";import{u as z,a as V,A as H}from"./useOption.1df139ae.js";import{F as M}from"./FlashOutline.2540d4bb.js";import{N as T}from"./Icon.08859a55.js";import{_ as U}from"./Space.8a45e35f.js";import{_ as $}from"./Input.fe4f00e9.js";import"./Dropdown.2b5865a1.js";import"./use-locale.5488f96f.js";import"./next-frame-once.3f36dc6b.js";import"./InputNumber.4bdae33a.js";import"./DataTable.c6d51583.js";import"./Checkbox.b785fbf0.js";import"./RadioGroup.8894a546.js";import"./get-slot.ef4c002f.js";import"./useBoolean.b8af4c55.js";import"./rule.94ce4fe0.js";const q=k("\u65B0\u5EFA\u8BA2\u5355"),ie=E({setup(G){const{isFullscreen:m}=x(),{data:o,columns:i,columnSrc:p}=j(!1),s=y(""),d=C(()=>s.value?o.value.filter(e=>e.name.includes(s.value)):o.value),_=b(),f={handler:e=>e.status==="unpublished"||e.status==="finished",rejectAction:()=>{_.error("\u53EA\u6709\u672A\u53D1\u5E03\u548C\u5DF2\u5B8C\u6210\u7684\u8BA2\u5355\u53EF\u4EE5\u5220\u9664")},returnImdiately:!0};function h(e,t){const a=o.value.find(c=>c.id===e.id);a&&(a.status=t)}i.value.push(z(p,h)),i.value.push(V(v,f));function v(e){o.value.splice(o.value.findIndex(t=>t.id===e.id),1)}const g=D();function A(){g.success({title:"\u65B0\u5EFA\u8BA2\u5355",content:()=>I(H,{columnSrcs:p})})}return(e,t)=>{const a=S,c=T,B=$,l=U;return O(),N(l,{vertical:!0,size:16},{default:u(()=>[n(l,{vertical:""},{default:u(()=>[n(w,{title:"\u6211\u7684\u8BA2\u5355",columns:r(i),data:r(d),"page-size":15,height:r(m)?580:480},{default:u(()=>[n(l,{justify:"space-between"},{default:u(()=>[n(a,{type:"primary",secondary:"",onClick:A},{default:u(()=>[q]),_:1}),n(B,{value:s.value,"onUpdate:value":t[0]||(t[0]=F=>s.value=F),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[n(c,{component:r(M)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data","height"])]),_:1})]),_:1})}}});export{ie as default};
