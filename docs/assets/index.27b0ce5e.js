import{u as k,_ as x}from"./index.adef7795.js";import{b as C,a as E,A as B}from"./useOption.756d80b2.js";import{r as p,f as r,ac as F,_ as m,d as $,b as A,c as D,e as w,w as n,o as j,g as f,h as z,i as I}from"./index.ce602150.js";import{N as M}from"./Dropdown.92faf3ac.js";import{_}from"./Space.38dfe61a.js";import{F as O}from"./FlashOutline.a9829241.js";import{N as V}from"./Icon.491a8a21.js";import{_ as T}from"./Input.43e7cde8.js";import"./use-locale.eea09bdd.js";import"./DataTable.b774f1fd.js";import"./Checkbox.0cb4692c.js";import"./RadioGroup.819b5fd0.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.8fb260e3.js";import"./rule.2210a85f.js";import"./InputNumber.f2894667.js";import"./InputGroup.fbd59ee6.js";const d=[{label:"\u5173\u505C",value:"closed"},{label:"\u6B63\u5E38",value:"normal"}],L=new Map([["closed","\u5173\u505C"],["normal","\u6B63\u5E38"]]);function U(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!F(o)}function q(o){return[{title:"\u5E8F\u53F7",key:"index",disabled:!0,form:{disabled:!0,break:!0}},{title:"\u5DE5\u5382\u540D\u79F0",key:"factoryName"},{title:"\u5DE5\u5382\u7B80\u4ECB",key:"factoryIntro",form:{type:"textarea"}},{title:"\u8D1F\u8D23\u4EBA",key:"factoryLeader"},{title:"\u8054\u7CFB\u65B9\u5F0F",key:"phone"},{title:"\u767B\u5F55\u8D26\u53F7",key:"loginName"},{title:"\u5DE5\u5382\u72B6\u6001",key:"factoryStatus",renderer:e=>{let a;return r(M,{type:H(e.factoryStatus)},U(a=L.get(e.factoryStatus))?a:{default:()=>[a]})},form:{type:"input",disabled:!0,defaultValue:"normal",renderer:e=>r("div",{class:"w-full"},[r(_,{vertical:!0,size:18},{default:()=>[r(m,{secondary:!0,strong:!0,type:e==="normal"?"success":"error",round:!0,size:"large",block:!0},{default:()=>[e==="normal"?"\u6B63\u5E38":"\u5173\u505C"]})]})])}},{title:"\u64CD\u4F5C",key:"action",renderer:e=>r(m,{secondary:!0,strong:!0,type:e.factoryStatus==="closed"?"success":"error",onClick:()=>G(e.factoryName,o)},{default:()=>[e.factoryStatus==="closed"?"\u5F00\u542F":"\u5173\u95ED"]}),form:{type:"input",break:!0}}]}function G(o,t){const e=t.value.find(a=>a.factoryName===o);e&&(e.factoryStatus=e.factoryStatus==="closed"?"normal":"closed")}function H(o){switch(o){case"closed":return"error";case"normal":return"success";default:return"error"}}function J(){const o=[];for(let t=0;t<40;t++)o.push({index:t+1,factoryName:`\u5DE5\u5382${t}`,factoryIntro:`\u5DE5\u5382${t}\u7684\u7B80\u4ECB`,factoryLeader:`\u5DE5\u5382${t}\u7684\u8D1F\u8D23\u4EBA`,phone:`138999988${t}`,loginName:`\u5DE5\u5382${t}\u7684\u767B\u5F55\u8D26\u53F7`,factoryStatus:d[Math.floor(Math.random()*d.length)].value});return o}function K(){const o=p(J()),t=q(o),e=k(o,t);return{data:o,columns:e,columnSrcs:t}}const P=z("\u65B0\u5EFA\u5DE5\u5382"),mt=$({setup(o){const{data:t,columns:e,columnSrcs:a}=K(),y=A(),u=p(""),h=D(()=>u.value?t.value.filter(c=>c.factoryName.includes(u.value)):t.value);e.value.push(C(a)),e.value.push(E(v));function v(c){const{factoryName:s}=c;t.value.splice(t.value.findIndex(l=>l.factoryName===s),1)}function g(){y.info({title:"\u65B0\u5EFA\u5DE5\u5382",content:()=>I(B,{columnSrcs:a})})}return(c,s)=>{const l=m,b=V,N=T,i=_;return j(),w(i,{vertical:!0,size:16},{default:n(()=>[r(i,{vertical:""},{default:n(()=>[r(x,{title:"\u5DE5\u5382\u7BA1\u7406",columns:f(e),data:f(h),"page-size":10,height:480},{default:n(()=>[r(i,{justify:"space-between"},{default:n(()=>[r(l,{type:"primary",secondary:"",strong:"",onClick:g},{default:n(()=>[P]),_:1}),r(N,{value:u.value,"onUpdate:value":s[0]||(s[0]=S=>u.value=S),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:n(()=>[r(b,{component:f(O)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{mt as default};
