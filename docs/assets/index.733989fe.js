import{_ as D}from"./index.d8a8a763.js";import{u as $}from"./index.ec0d0768.js";import{u as z}from"./useOption.8b03b050.js";import{d as y,r as h,a as U,o as C,g as A,w as t,c as e,I as k,h as o,b as v,_ as E,f as N,e as I,j as O}from"./index.332a15a2.js";import{f,_ as R,a as T}from"./rule.28061c40.js";import{g as V,_ as j,a as M}from"./Dropdown.054c8128.js";import{_ as b}from"./Input.64dc662d.js";import{_ as w}from"./Space.c958e8da.js";import{F as P}from"./FlashOutline.146651c4.js";import"./useBoolean.49dd77c8.js";import"./DataTable.2de57d10.js";import"./Checkbox.95682de5.js";import"./RadioGroup.ab857bc4.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./use-locale.b2e2ace9.js";const S={class:"flex-y-center w-full"},q=v("\u4EA7\u54C1\u7F16\u53F7"),G=v(" \u968F\u673A\u751F\u6210\u7684\u4EA7\u54C1\u7F16\u53F7,\u4E0D\u53EF\u7F16\u8F91 "),H=k("div",{class:"w-18px"},null,-1),J=v("\u786E\u5B9A"),K=y({props:{disableBack:null},setup(x){const r=h(null),n=U({id:`PNO${Math.round(new Date().getTime()+839123832*Math.random())}`,name:"",type:"",spec:"",description:""}),d=h([]);for(let l=0;l<5;l++)d.value.push({label:`\u7C7B\u578B${l}`,value:`type${l}`});n.type=d.value[0].value;const c={id:f.notBlank,name:f.notBlank,type:f.notBlank,spec:f.notBlank,description:f.notBlank};function g(l){!r.value||(l.preventDefault(),r.value.validate(u=>{var a,s;u?(s=window.$message)==null||s.error("\u9A8C\u8BC1\u5931\u8D25!"):(a=window.$message)==null||a.success("Succeed!")}))}return(l,u)=>{const a=E,s=V,i=b,_=R,F=j,m=w,B=T;return C(),A(B,{ref_key:"formRef",ref:r,model:o(n),rules:c,size:"large","show-label":!1},{default:t(()=>[e(_,{path:"id"},{default:t(()=>[k("div",S,[e(s,{trigger:"hover"},{trigger:t(()=>[e(a,{type:"primary",round:"",secondary:"",size:"medium"},{default:t(()=>[q]),_:1})]),default:t(()=>[G]),_:1}),H,e(i,{value:o(n).id,"onUpdate:value":u[0]||(u[0]=p=>o(n).id=p),disabled:""},null,8,["value"])])]),_:1}),e(_,{path:"name"},{default:t(()=>[e(i,{value:o(n).name,"onUpdate:value":u[1]||(u[1]=p=>o(n).name=p),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u540D"},null,8,["value"])]),_:1}),e(_,{path:"type"},{default:t(()=>[e(F,{value:o(n).type,"onUpdate:value":u[2]||(u[2]=p=>o(n).type=p),placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u578B",options:d.value},null,8,["value","options"])]),_:1}),e(_,{path:"spec"},{default:t(()=>[e(i,{value:o(n).spec,"onUpdate:value":u[3]||(u[3]=p=>o(n).spec=p),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u89C4\u683C"},null,8,["value"])]),_:1}),e(_,{path:"description"},{default:t(()=>[e(i,{value:o(n).description,"onUpdate:value":u[4]||(u[4]=p=>o(n).description=p),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u63CF\u8FF0"},null,8,["value"])]),_:1}),e(m,{vertical:!0,size:18},{default:t(()=>[e(a,{type:"primary",size:"large",block:!0,round:!0,onClick:g},{default:t(()=>[J]),_:1})]),_:1})]),_:1},8,["model"])}}}),L=v("\u6DFB\u52A0\u4EA7\u54C1"),_e=y({setup(x){const{data:r,columns:n}=$(),d=N(),c=h(""),g=I(()=>c.value?r.value.filter(a=>a.name.includes(c.value)):r.value);n.value.push(z(l));function l(a){const{id:s}=a;r.value.splice(r.value.findIndex(i=>i.id===s),1)}function u(){d.info({title:"\u6DFB\u52A0\u4EA7\u54C1",content:()=>O(K,{disableBack:!0})})}return(a,s)=>{const i=E,_=M,F=b,m=w;return C(),A(m,{vertical:!0,size:16},{default:t(()=>[e(m,{vertical:""},{default:t(()=>[e(D,{title:"\u4EA7\u54C1",columns:o(n),data:o(g),"page-size":10,height:480},{default:t(()=>[e(m,{justify:"space-between"},{default:t(()=>[e(i,{type:"primary",secondary:"",strong:"",onClick:u},{default:t(()=>[L]),_:1}),e(F,{value:c.value,"onUpdate:value":s[0]||(s[0]=B=>c.value=B),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:t(()=>[e(_,{component:o(P)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{_e as default};
