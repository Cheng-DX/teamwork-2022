import{d as y,u as C,r as b,c as D,a as S,b as N,e as O,w as u,o as k,f as n,g as r,h as I,i as j,_ as w}from"./index.eb814750.js";import{u as m}from"./index.e0d03533.js";import{_ as z}from"./index.7103b569.js";import{u as V,a as $,A as H}from"./useOption.530cf320.js";import{F as M}from"./FlashOutline.f4bc4573.js";import{N as T}from"./Icon.22b86a30.js";import{_ as U}from"./Space.ce1e0423.js";import{_ as q}from"./Input.8aa8560f.js";import"./Dropdown.4ed83185.js";import"./use-locale.0f9161e9.js";import"./next-frame-once.3f36dc6b.js";import"./InputNumber.149698c4.js";import"./DataTable.cea788da.js";import"./Checkbox.7c1eb1eb.js";import"./RadioGroup.a3ec857f.js";import"./get-slot.ef4c002f.js";import"./useBoolean.6bb8342f.js";import"./rule.61bffcd9.js";import"./InputGroup.4deeadeb.js";const G=I("\u65B0\u5EFA\u8BA2\u5355"),le=y({setup(J){const{isFullscreen:p}=C(),{data:o,columns:c,columnSrcs:d}=m(),s=b(""),_=D(()=>s.value?o.value.filter(e=>e.name.includes(s.value)):o.value),f=S(),h={handler:e=>e.status==="unpublished"||e.status==="finished",rejectAction:()=>{f.error("\u53EA\u6709\u672A\u53D1\u5E03\u548C\u5DF2\u5B8C\u6210\u7684\u8BA2\u5355\u53EF\u4EE5\u5220\u9664")},returnImdiately:!0};function v(e,t){const a=o.value.find(i=>i.id===e.id);a&&(a.status=t)}c.value.push(V(d,v)),c.value.push($(g,h));function g(e){o.value.splice(o.value.findIndex(t=>t.id===e.id),1)}const{columnSrcs:A}=m(),B=N();function F(){B.success({title:"\u65B0\u5EFA\u8BA2\u5355",content:()=>j(H,{columnSrcs:A})})}return(e,t)=>{const a=w,i=T,E=q,l=U;return k(),O(l,{vertical:!0,size:16},{default:u(()=>[n(l,{vertical:""},{default:u(()=>[n(z,{title:"\u6211\u7684\u8BA2\u5355",columns:r(c),data:r(_),"page-size":15,height:r(p)?580:480},{default:u(()=>[n(l,{justify:"space-between"},{default:u(()=>[n(a,{type:"primary",secondary:"",onClick:F},{default:u(()=>[G]),_:1}),n(E,{value:s.value,"onUpdate:value":t[0]||(t[0]=x=>s.value=x),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[n(i,{component:r(M)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data","height"])]),_:1})]),_:1})}}});export{le as default};
