import{d as N,e as V,o as g,z as U,c as o,w as n,h as u,bO as L,b as r,_ as $,r as b,a as j,bP as I,C as K,g as A,bQ as M,F as O,L as x,I as P,K as Q}from"./index.332a15a2.js";import{_ as T}from"./Checkbox.95682de5.js";import{E as p}from"./business.0884cf3a.js";import{f as c,g as q,a as G,_ as H}from"./rule.28061c40.js";import{u as J}from"./useSmsCode.b7b31939.js";import{a as W,_ as X}from"./RadioGroup.ab857bc4.js";import{_ as Y}from"./Space.c958e8da.js";import{_ as Z}from"./Input.64dc662d.js";import"./useBoolean.49dd77c8.js";import"./get-slot.ef4c002f.js";import"./use-locale.b2e2ace9.js";const ee={class:"w-full text-14px"},ue=r("\u6211\u5DF2\u7ECF\u4ED4\u7EC6\u9605\u8BFB\u5E76\u63A5\u53D7"),oe=r("\u300A\u7528\u6237\u534F\u8BAE\u300B"),te=r("\u300A\u9690\u79C1\u6743\u653F\u7B56\u300B"),ne=N({props:{value:{type:Boolean,default:!0}},emits:["update:value","click-protocol","click-policy"],setup(y,{emit:_}){const C=y,m=V({get(){return C.value},set(d){_("update:value",d)}});function k(){_("click-protocol")}function w(){_("click-policy")}return(d,e)=>{const h=T,i=$;return g(),U("div",ee,[o(h,{checked:u(m),"onUpdate:checked":e[0]||(e[0]=D=>L(m)?m.value=D:null)},{default:n(()=>[ue]),_:1},8,["checked"]),o(i,{text:!0,type:"primary",onClick:k},{default:n(()=>[oe]),_:1}),o(i,{text:!0,type:"primary",onClick:w},{default:n(()=>[te]),_:1})])}}}),ae=r("\u4E91\u5DE5\u5382\u7BA1\u7406\u5458"),le=r("\u7ECF\u9500\u5546"),re={class:"flex-y-center w-full"},se=P("div",{class:"w-18px"},null,-1),de=r("\u786E\u5B9A"),ie=r("\u8FD4\u56DE"),we=N({props:{disableBack:null},setup(y){const{toLoginModule:_}=M(),{label:C,isCounting:m,loading:k,start:w}=J(),d=b(null),e=j({username:"",phone:"",factoryName:"",factoryDescription:"",role:p.admin,code:"",pwd:"",confirmPwd:""}),h={username:c.username,factoryName:c.notBlank,factoryDescription:c.notBlank,phone:c.phone,code:c.code,pwd:c.pwd,confirmPwd:q(I(e).pwd)},i=b(!1);function D(){w()}K(e,()=>{e.role===p.admin&&(e.factoryDescription="",e.factoryName="")});function R(F){!d.value||(F.preventDefault(),e.role!==p.admin&&(e.factoryName="\u6295\u673A\u53D6\u5DE7\u7684\u7ECF\u9500\u5546",e.factoryDescription="\u6295\u673A\u53D6\u5DE7\u7684\u7ECF\u9500\u5546"),d.value.validate(t=>{var f,v,B;if(t)(B=window.$message)==null||B.error("\u9A8C\u8BC1\u5931\u8D25!");else{if(!i.value){(f=window.$message)==null||f.error("\u8BF7\u5148\u9605\u8BFB\u5E76\u540C\u610F\u300A\u7528\u6237\u534F\u8BAE\u300B\u300A\u9690\u79C1\u6743\u653F\u7B56\u300B");return}(v=window.$message)==null||v.success("Succeed!")}}))}return(F,t)=>{const f=W,v=Y,B=X,l=H,s=Z,E=$,z=ne,S=G;return g(),A(S,{ref_key:"formRef",ref:d,model:u(e),rules:h,size:"large","show-label":!1},{default:n(()=>[o(l,{path:"role"},{default:n(()=>[o(B,{value:u(e).role,"onUpdate:value":t[0]||(t[0]=a=>u(e).role=a),placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",style:{width:"100%"}},{default:n(()=>[o(v,{justify:"center"},{default:n(()=>[o(f,{value:u(p).admin},{default:n(()=>[ae]),_:1},8,["value"]),o(f,{value:u(p).dealer},{default:n(()=>[le]),_:1},8,["value"])]),_:1})]),_:1},8,["value"])]),_:1}),o(l,{path:"username"},{default:n(()=>[o(s,{value:u(e).username,"onUpdate:value":t[1]||(t[1]=a=>u(e).username=a),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["value"])]),_:1}),o(l,{path:"phone"},{default:n(()=>[o(s,{value:u(e).phone,"onUpdate:value":t[2]||(t[2]=a=>u(e).phone=a),placeholder:"\u624B\u673A\u53F7\u7801"},null,8,["value"])]),_:1}),u(e).role===u(p).admin?(g(),U(O,{key:0},[o(l,{path:"factoryName"},{default:n(()=>[o(s,{value:u(e).factoryName,"onUpdate:value":t[3]||(t[3]=a=>u(e).factoryName=a),placeholder:"\u8BF7\u8F93\u5165\u5DE5\u5382\u540D"},null,8,["value"])]),_:1}),o(l,{path:"factoryDescription"},{default:n(()=>[o(s,{value:u(e).factoryDescription,"onUpdate:value":t[4]||(t[4]=a=>u(e).factoryDescription=a),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5DE5\u5382\u7B80\u4ECB"},null,8,["value"])]),_:1})],64)):x("",!0),o(l,{path:"code"},{default:n(()=>[P("div",re,[o(s,{value:u(e).code,"onUpdate:value":t[5]||(t[5]=a=>u(e).code=a),placeholder:"\u9A8C\u8BC1\u7801"},null,8,["value"]),se,o(E,{size:"large",disabled:u(m),loading:u(k),onClick:D},{default:n(()=>[r(Q(u(C)),1)]),_:1},8,["disabled","loading"])])]),_:1}),o(l,{path:"pwd"},{default:n(()=>[o(s,{value:u(e).pwd,"onUpdate:value":t[6]||(t[6]=a=>u(e).pwd=a),placeholder:"\u5BC6\u7801"},null,8,["value"])]),_:1}),o(l,{path:"confirmPwd"},{default:n(()=>[o(s,{value:u(e).confirmPwd,"onUpdate:value":t[7]||(t[7]=a=>u(e).confirmPwd=a),placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,8,["value"])]),_:1}),o(v,{vertical:!0,size:18},{default:n(()=>[o(z,{value:i.value,"onUpdate:value":t[8]||(t[8]=a=>i.value=a)},null,8,["value"]),o(E,{type:"primary",size:"large",block:!0,round:!0,onClick:R},{default:n(()=>[de]),_:1}),y.disableBack?x("",!0):(g(),A(E,{key:0,size:"large",block:!0,round:!0,onClick:t[9]||(t[9]=a=>u(_)("pwd-login"))},{default:n(()=>[ie]),_:1}))]),_:1})]),_:1},8,["model"])}}});export{we as default};
