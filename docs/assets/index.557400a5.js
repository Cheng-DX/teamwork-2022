import{u as C,_ as E,F as B}from"./index.da4cdef3.js";import{b as F,a as $,A}from"./useOption.063743f9.js";import{r as _,f as r,ac as D,_ as f,d as w,b as j,c as z,e as I,w as n,o as M,g as m,h as O,i as V}from"./index.80fed765.js";import{N as T}from"./Dropdown.a80bde40.js";import{_ as y}from"./Space.9011e73e.js";import{N as L}from"./Icon.5d059f7d.js";import{_ as U}from"./Input.feaaa554.js";import"./use-locale.f9c35fc7.js";import"./DataTable.c5f436dc.js";import"./Checkbox.636905b4.js";import"./RadioGroup.5c8f9b97.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.edb7a201.js";import"./rule.724493a2.js";import"./InputNumber.2526d7ff.js";import"./InputGroup.2419cda6.js";const d=[{label:"\u5173\u505C",value:"closed"},{label:"\u6B63\u5E38",value:"normal"}],q=new Map([["closed","\u5173\u505C"],["normal","\u6B63\u5E38"]]);function G(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!D(o)}function H(o){return[{title:"\u5E8F\u53F7",key:"index",disabled:!0,form:{disabled:!0,break:!0}},{title:"\u5DE5\u5382\u540D\u79F0",key:"factoryName"},{title:"\u5DE5\u5382\u7B80\u4ECB",key:"factoryIntro",form:{type:"textarea"}},{title:"\u8D1F\u8D23\u4EBA",key:"factoryLeader"},{title:"\u8054\u7CFB\u65B9\u5F0F",key:"phone"},{title:"\u767B\u5F55\u8D26\u53F7",key:"loginName"},{title:"\u5DE5\u5382\u72B6\u6001",key:"factoryStatus",renderer:e=>{let a;return r(T,{type:K(e.factoryStatus)},G(a=q.get(e.factoryStatus))?a:{default:()=>[a]})},form:{type:"input",disabled:!0,defaultValue:"normal",renderer:e=>r("div",{class:"w-full"},[r(y,{vertical:!0,size:18},{default:()=>[r(f,{secondary:!0,strong:!0,type:e==="normal"?"success":"error",round:!0,size:"large",block:!0},{default:()=>[e==="normal"?"\u6B63\u5E38":"\u5173\u505C"]})]})])}},{title:"\u64CD\u4F5C",key:"action",renderer:e=>r(f,{secondary:!0,strong:!0,type:e.factoryStatus==="closed"?"success":"error",onClick:()=>J(e.factoryName,o)},{default:()=>[e.factoryStatus==="closed"?"\u5F00\u542F":"\u5173\u95ED"]}),form:{type:"input",break:!0}}]}function J(o,t){const e=t.value.find(a=>a.factoryName===o);e&&(e.factoryStatus=e.factoryStatus==="closed"?"normal":"closed")}function K(o){switch(o){case"closed":return"error";case"normal":return"success";default:return"error"}}function P(){const o=[];for(let t=0;t<40;t++)o.push({index:t+1,factoryName:`\u5DE5\u5382${t}`,factoryIntro:`\u5DE5\u5382${t}\u7684\u7B80\u4ECB`,factoryLeader:`\u5DE5\u5382${t}\u7684\u8D1F\u8D23\u4EBA`,phone:`138999988${t}`,loginName:`\u5DE5\u5382${t}\u7684\u767B\u5F55\u8D26\u53F7`,factoryStatus:d[Math.floor(Math.random()*d.length)].value});return o}function p(){const o=_(P()),t=H(o),e=C(o,t);return{data:o,columns:e,columnSrcs:t}}const Q=O("\u65B0\u5EFA\u5DE5\u5382"),ft=w({setup(o){const{data:t,columns:e,columnSrcs:a}=p(),h=j(),u=_(""),v=z(()=>u.value?t.value.filter(c=>c.factoryName.includes(u.value)):t.value);e.value.push(F(a)),e.value.push($(g));function g(c){const{factoryName:s}=c;t.value.splice(t.value.findIndex(l=>l.factoryName===s),1)}const{columnSrcs:S}=p();function b(){h.info({title:"\u65B0\u5EFA\u5DE5\u5382",content:()=>V(A,{columnSrcs:S})})}return(c,s)=>{const l=f,N=L,k=U,i=y;return M(),I(i,{vertical:!0,size:16},{default:n(()=>[r(i,{vertical:""},{default:n(()=>[r(E,{title:"\u5DE5\u5382\u7BA1\u7406",columns:m(e),data:m(v),"page-size":10,height:480},{default:n(()=>[r(i,{justify:"space-between"},{default:n(()=>[r(l,{type:"primary",secondary:"",strong:"",onClick:b},{default:n(()=>[Q]),_:1}),r(k,{value:u.value,"onUpdate:value":s[0]||(s[0]=x=>u.value=x),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:n(()=>[r(N,{component:m(B)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{ft as default};
