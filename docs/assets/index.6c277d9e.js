import{a as x,u as D,_ as N}from"./useOption.8a573d00.js";import{r as y,c as t,d as C,a as z,o as k,g as A,w as n,a3 as $,h as o,b as g,_ as b,f as T,e as U,j as O}from"./index.202d693a.js";import{e as P,g as R,_ as S,N as V}from"./Dropdown.e08b9672.js";import{f as v,_ as j,a as I}from"./rule.71e9ab13.js";import{_ as E}from"./Input.e67e0d4e.js";import{_ as w}from"./Space.fec248b2.js";import{F as M}from"./FlashOutline.5e2bf0fd.js";import"./useBoolean.dd387fb2.js";import"./DataTable.d585bb1f.js";import"./Checkbox.409a15a5.js";import"./RadioGroup.2cc0ad11.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./use-locale.a0ad6277.js";const q=[{title:"\u5E8F\u53F7",key:"index"},{title:"\u4EA7\u54C1\u7F16\u53F7",key:"id"},{title:"\u4EA7\u54C1\u540D\u79F0",key:"name"},{title:"\u4EA7\u54C1\u7C7B\u522B",key:"type",renderer:s=>t(P,null,{default:()=>[s.type]})},{title:"\u4EA7\u54C1\u89C4\u683C",key:"spec"},{title:"\u4EA7\u54C1\u63CF\u8FF0",key:"description"}];function G(){const s=[],a=new Date().getTime();for(let e=0;e<40;e++)s.push({index:e+1,id:`PNO${a+e*294}`,name:`\u4EA7\u54C1${e}`,type:`\u7C7B\u522B${e}`,spec:`\u89C4\u683C${e}`,description:`\u63CF\u8FF0${e}`});return s}function H(){const s=y(G()),a=x(s,q);return{data:s,columns:a}}const J={class:"flex-y-center w-full"},K=g("\u4EA7\u54C1\u7F16\u53F7"),L=g(" \u968F\u673A\u751F\u6210\u7684\u4EA7\u54C1\u7F16\u53F7,\u4E0D\u53EF\u7F16\u8F91 "),Q=$("div",{class:"w-18px"},null,-1),W=g("\u786E\u5B9A"),X=C({props:{disableBack:null},setup(s){const a=y(null),e=z({id:`PNO${Math.round(new Date().getTime()+839123832*Math.random())}`,name:"",type:"",spec:"",description:""}),m=y([]);for(let i=0;i<5;i++)m.value.push({label:`\u7C7B\u578B${i}`,value:`type${i}`});e.type=m.value[0].value;const d={id:v.notBlank,name:v.notBlank,type:v.notBlank,spec:v.notBlank,description:v.notBlank};function F(i){!a.value||(i.preventDefault(),a.value.validate(u=>{var l,r;u?(r=window.$message)==null||r.error("\u9A8C\u8BC1\u5931\u8D25!"):(l=window.$message)==null||l.success("Succeed!")}))}return(i,u)=>{const l=b,r=R,c=E,_=j,h=S,f=w,B=I;return k(),A(B,{ref_key:"formRef",ref:a,model:o(e),rules:d,size:"large","show-label":!1},{default:n(()=>[t(_,{path:"id"},{default:n(()=>[$("div",J,[t(r,{trigger:"hover"},{trigger:n(()=>[t(l,{type:"primary",round:"",secondary:"",size:"medium"},{default:n(()=>[K]),_:1})]),default:n(()=>[L]),_:1}),Q,t(c,{value:o(e).id,"onUpdate:value":u[0]||(u[0]=p=>o(e).id=p),disabled:""},null,8,["value"])])]),_:1}),t(_,{path:"name"},{default:n(()=>[t(c,{value:o(e).name,"onUpdate:value":u[1]||(u[1]=p=>o(e).name=p),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u540D"},null,8,["value"])]),_:1}),t(_,{path:"type"},{default:n(()=>[t(h,{value:o(e).type,"onUpdate:value":u[2]||(u[2]=p=>o(e).type=p),placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u578B",options:m.value},null,8,["value","options"])]),_:1}),t(_,{path:"spec"},{default:n(()=>[t(c,{value:o(e).spec,"onUpdate:value":u[3]||(u[3]=p=>o(e).spec=p),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u89C4\u683C"},null,8,["value"])]),_:1}),t(_,{path:"description"},{default:n(()=>[t(c,{value:o(e).description,"onUpdate:value":u[4]||(u[4]=p=>o(e).description=p),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u63CF\u8FF0"},null,8,["value"])]),_:1}),t(f,{vertical:!0,size:18},{default:n(()=>[t(l,{type:"primary",size:"large",block:!0,round:!0,onClick:F},{default:n(()=>[W]),_:1})]),_:1})]),_:1},8,["model"])}}}),Y=g("\u6DFB\u52A0\u4EA7\u54C1"),de=C({setup(s){const{data:a,columns:e}=H(),m=T(),d=y(""),F=U(()=>d.value?a.value.filter(l=>l.name.includes(d.value)):a.value);e.value.push(D(i));function i(l){const{id:r}=l;a.value.splice(a.value.findIndex(c=>c.id===r),1)}function u(){m.info({title:"\u6DFB\u52A0\u4EA7\u54C1",content:()=>O(X,{disableBack:!0})})}return(l,r)=>{const c=b,_=V,h=E,f=w;return k(),A(f,{vertical:!0,size:16},{default:n(()=>[t(f,{vertical:""},{default:n(()=>[t(N,{title:"\u4EA7\u54C1",columns:o(e),data:o(F),"page-size":10,height:480},{default:n(()=>[t(f,{justify:"space-between"},{default:n(()=>[t(c,{type:"primary",secondary:"",strong:"",onClick:u},{default:n(()=>[Y]),_:1}),t(h,{value:d.value,"onUpdate:value":r[0]||(r[0]=B=>d.value=B),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:n(()=>[t(_,{component:o(M)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{de as default};
