import{u as D,_ as N,F as z}from"./index.37052175.js";import{f as t,r as y,d as k,ab as T,o as b,e as $,w as u,a1 as A,g as a,h as g,_ as E,b as U,c as O,i as P}from"./index.296a0779.js";import{N as S,f as R,_ as V}from"./Dropdown.9133ff75.js";import{b as I,a as M}from"./useOption.e1b3950d.js";import{f as v,_ as j,a as q}from"./rule.2cda6168.js";import{_ as x}from"./Input.253b5234.js";import{_ as w}from"./Space.ea9f8d09.js";import{N as G}from"./Icon.92eacf22.js";import"./use-locale.33883a7d.js";import"./DataTable.7171225d.js";import"./Checkbox.d549aa51.js";import"./RadioGroup.b8a8dc38.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.4ca18b3c.js";import"./InputNumber.bf5a19b1.js";import"./InputGroup.c660ecc4.js";const C=[{title:"\u5E8F\u53F7",key:"index",form:{break:!0}},{title:"\u4EA7\u54C1\u7F16\u53F7",disabled:!0,key:"id",form:{type:"input",disabled:!0}},{title:"\u4EA7\u54C1\u540D\u79F0",key:"name"},{title:"\u4EA7\u54C1\u7C7B\u522B",key:"type",renderer:l=>t(S,null,{default:()=>[l.type]}),form:{type:"select",options:(()=>{const l=[];for(let n=0;n<40;n++)l.push({label:`\u7C7B\u522B${n}`,value:`\u7C7B\u522B${n}`});return l})()}},{title:"\u4EA7\u54C1\u89C4\u683C",key:"spec"},{title:"\u4EA7\u54C1\u63CF\u8FF0",key:"description",form:{type:"textarea"}}];function H(){const l=[],n=new Date().getTime();for(let e=0;e<40;e++)l.push({index:e+1,id:`PNO${n+e*294}`,name:`\u4EA7\u54C1${e}`,type:`\u7C7B\u522B${e}`,spec:`\u89C4\u683C${e}`,description:`\u63CF\u8FF0${e}`});return l}function J(){const l=y(H()),n=D(l,C);return{data:l,columns:n,columnSrc:C}}const K={class:"flex-y-center w-full"},L=g("\u4EA7\u54C1\u7F16\u53F7"),Q=g(" \u968F\u673A\u751F\u6210\u7684\u4EA7\u54C1\u7F16\u53F7,\u4E0D\u53EF\u7F16\u8F91 "),W=A("div",{class:"w-18px"},null,-1),X=g("\u786E\u5B9A"),Y=k({props:{disableBack:null},setup(l){const n=y(null),e=T({id:`PNO${Math.round(new Date().getTime()+839123832*Math.random())}`,name:"",type:"",spec:"",description:""}),m=y([]);for(let r=0;r<5;r++)m.value.push({label:`\u7C7B\u578B${r}`,value:`type${r}`});e.type=m.value[0].value;const h={id:v.notBlank,name:v.notBlank,type:v.notBlank,spec:v.notBlank,description:v.notBlank};function _(r){!n.value||(r.preventDefault(),n.value.validate(o=>{var d,i;o?(i=window.$message)==null||i.error("\u9A8C\u8BC1\u5931\u8D25!"):(d=window.$message)==null||d.success("Succeed!")}))}return(r,o)=>{const d=E,i=R,p=x,c=j,F=V,B=w,f=q;return b(),$(f,{ref_key:"formRef",ref:n,model:a(e),rules:h,size:"large","show-label":!1},{default:u(()=>[t(c,{path:"id"},{default:u(()=>[A("div",K,[t(i,{trigger:"hover"},{trigger:u(()=>[t(d,{type:"primary",round:"",secondary:"",size:"medium"},{default:u(()=>[L]),_:1})]),default:u(()=>[Q]),_:1}),W,t(p,{value:a(e).id,"onUpdate:value":o[0]||(o[0]=s=>a(e).id=s),disabled:""},null,8,["value"])])]),_:1}),t(c,{path:"name"},{default:u(()=>[t(p,{value:a(e).name,"onUpdate:value":o[1]||(o[1]=s=>a(e).name=s),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u540D"},null,8,["value"])]),_:1}),t(c,{path:"type"},{default:u(()=>[t(F,{value:a(e).type,"onUpdate:value":o[2]||(o[2]=s=>a(e).type=s),placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u578B",options:m.value},null,8,["value","options"])]),_:1}),t(c,{path:"spec"},{default:u(()=>[t(p,{value:a(e).spec,"onUpdate:value":o[3]||(o[3]=s=>a(e).spec=s),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u89C4\u683C"},null,8,["value"])]),_:1}),t(c,{path:"description"},{default:u(()=>[t(p,{value:a(e).description,"onUpdate:value":o[4]||(o[4]=s=>a(e).description=s),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u63CF\u8FF0"},null,8,["value"])]),_:1}),t(B,{vertical:!0,size:18},{default:u(()=>[t(d,{type:"primary",size:"large",block:!0,round:!0,onClick:_},{default:u(()=>[X]),_:1})]),_:1})]),_:1},8,["model"])}}}),Z=g("\u6DFB\u52A0\u4EA7\u54C1"),ye=k({setup(l){const{data:n,columns:e,columnSrc:m}=J(),h=U(),_=y(""),r=O(()=>_.value?n.value.filter(i=>i.name.includes(_.value)):n.value);e.value.push(I(m)),e.value.push(M(o));function o(i){const{id:p}=i;n.value.splice(n.value.findIndex(c=>c.id===p),1)}function d(){h.info({title:"\u6DFB\u52A0\u4EA7\u54C1",content:()=>P(Y,{disableBack:!0})})}return(i,p)=>{const c=E,F=G,B=x,f=w;return b(),$(f,{vertical:!0,size:16},{default:u(()=>[t(f,{vertical:""},{default:u(()=>[t(N,{title:"\u4EA7\u54C1",columns:a(e),data:a(r),"page-size":10,height:480},{default:u(()=>[t(f,{justify:"space-between"},{default:u(()=>[t(c,{type:"primary",secondary:"",strong:"",onClick:d},{default:u(()=>[Z]),_:1}),t(B,{value:_.value,"onUpdate:value":p[0]||(p[0]=s=>_.value=s),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[t(F,{component:a(z)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{ye as default};
