import{r as O,f as t,_ as E,h as p,ac as J,d as I,b as j,o as b,e as R,w as n,a6 as S,a0 as T,ae as K,ad as Q,u as W,c as X,a as Y,g as v,i as w}from"./index.eb814750.js";import{u as Z,_ as N}from"./index.7103b569.js";import{a as z,R as q}from"./index.9da50468.js";import{_ as B}from"./Space.ce1e0423.js";import{N as ee,_ as te}from"./Dropdown.4ed83185.js";import{b as ue,c as ne,a as ae,d as se,A as le}from"./useOption.530cf320.js";import{_ as V}from"./Input.8aa8560f.js";import{_ as oe}from"./InputGroup.4deeadeb.js";import{_ as re}from"./InputNumber.149698c4.js";import{F as ie}from"./FlashOutline.f4bc4573.js";import{N as ce}from"./Icon.22b86a30.js";import"./use-locale.0f9161e9.js";import"./DataTable.cea788da.js";import"./Checkbox.7c1eb1eb.js";import"./RadioGroup.a3ec857f.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.6bb8342f.js";import"./rule.61bffcd9.js";function de(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!J(u)}let l;(function(u){u.Opened="\u95F2\u7F6E\u4E2D",u.Closed="\u5DF2\u5173\u673A",u.Fault="\u6545\u969C\u4E2D",u.Producing="\u751F\u4EA7\u4E2D"})(l||(l={}));let m;(function(u){u.Rent="\u79DF\u7528\u8BBE\u5907",u.Own="\u81EA\u6709\u8BBE\u5907"})(m||(m={}));function pe(u){switch(u){case l.Opened:return"success";case l.Closed:return"default";case l.Fault:return"error";case l.Producing:return"info";default:return"info"}}function me(u){return[{title:"\u5E8F\u53F7",key:"index",disabled:!0,form:{disabled:!0,break:!0}},{title:"\u8BBE\u5907\u7F16\u53F7",key:"id",renderer:e=>t("span",null,[e.id]),form:{type:"input",disabled:!0,creator:()=>`DNO${new Date().getTime()+2387478}`}},{title:"\u8BBE\u5907\u540D\u79F0",key:"name"},{title:"\u8BBE\u5907\u7C7B\u522B",key:"type",renderer:e=>t("span",null,[e.type]),form:{type:"select",options:[{label:"\u8BBE\u5907\u7C7B\u522B1",value:"type1"},{label:"\u8BBE\u5907\u7C7B\u522B2",value:"type2"},{label:"\u8BBE\u5907\u7C7B\u522B3",value:"type3"}]}},{title:"\u8BBE\u5907\u89C4\u683C",key:"spec"},{title:"\u8BBE\u5907\u63CF\u8FF0",key:"description",form:{type:"textarea"}},{title:"\u8BBE\u5907\u6765\u6E90",key:"source",form:{defaultValue:m.Own,disabled:!0,type:"select",options:[{label:"\u81EA\u6709\u8BBE\u5907",value:m.Own},{label:"\u79DF\u7528\u8BBE\u5907",value:m.Rent}]}},{title:"\u6240\u5C5E\u5DE5\u5382",key:"factory",form:{type:"input",defaultValue:"Mine",renderer:e=>t("div",{class:"w-full"},[t(B,{vertical:!0,size:18},{default:()=>[t(E,{secondary:!0,strong:!0,type:"success",round:!0,size:"large",block:!0},{default:()=>[p("\u6240\u5C5E\u5DE5\u5382\uFF1A\u6211\u7684\u5DE5\u5382")]})]})])}},{title:"\u8BBE\u5907\u72B6\u6001",key:"status",renderer:e=>t(ee,{strong:!0,type:pe(e.status)},{default:()=>[e.status]}),form:{type:"input",defaultValue:"opend",renderer:e=>t("div",{class:"w-full"},[t(B,{vertical:!0,size:18},{default:()=>[t(E,{secondary:!0,strong:!0,type:"warning",round:!0,size:"large",block:!0},de(e)?e:{default:()=>[e]})]})])}},{title:"\u5F00\u5173\u673A",key:"power",renderer:e=>t(E,{tertiary:!0,strong:!0,type:e.status===l.Closed?"success":"error",disabled:e.status!==l.Closed&&e.status!==l.Opened,onClick:()=>fe(e.id,u)},{default:()=>[e.status===l.Closed?"\u8FDC\u7A0B\u5F00\u673A":"\u8FDC\u7A0B\u5173\u673A"]}),form:{break:!0}}]}function fe(u,s){const e=s.value.find(i=>i.id===u);e&&(e.status=e.status===l.Closed?l.Opened:l.Closed)}function _e(){const u=[],s=new Date().getTime();for(let e=0;e<40;e++)u.push({index:e+1,id:`DNO${s+e*2387478}`,name:`\u8BBE\u5907${e}`,type:`\u7C7B\u522B${e}`,spec:`\u89C4\u683C${e}`,factory:"\u6211\u7684\u5DE5\u5382",description:`\u63CF\u8FF0${e}`,status:z[e%z.length].label,source:e%2===0?m.Own:m.Rent});return u}function A(u){const s=O(_e()),e=me(s),i=Z(s,e);return{data:s,columns:i,columnSrcs:e}}const ye=p("\u8BBE\u5907\u7F16\u53F7"),ve=p("\u8BBE\u5907\u540D\u79F0"),ge=p("\u6DFB\u52A0\u4EA7\u54C1"),Fe=p("\u4EA7\u54C1\u540D\u79F0"),he=p("\u4EA7\u54C1\u4EA7\u80FD\uFF08\u4EF6/\u5C0F\u65F6\uFF09"),Ee=p("\u5220\u9664"),Ce=I({props:{id:null,name:null},setup(u){const s=[];for(let c=0;c<10;c++)s.push({label:`\u4EA7\u54C1${c+1}`,value:`\u4EA7\u54C1${c+1}`});const e=O([{id:"1",name:"\u4EA7\u54C11",value:10},{id:"2",name:"\u4EA7\u54C12",value:304},{id:"3",name:"\u4EA7\u54C13",value:128}]);function i(){e.value.push({id:new Date().getTime().toString(),name:`\u4EA7\u54C1${e.value.length+1}`,value:128})}const k=j();function f(c){k.warning({title:"\u8B66\u544A",content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u53D6\u6D88",onPositiveClick:()=>{e.value=e.value.filter(g=>g.id!==c)}})}return(c,g)=>{const d=E,C=V,_=oe,F=B,h=te,x=re;return b(),R(F,{vertical:"",size:20,class:"w-full"},{default:n(()=>[t(F,{justify:"space-between"},{default:n(()=>[S("div",null,[t(_,null,{default:n(()=>[t(d,{secondary:"",strong:"",type:"primary",style:{"margin-right":"10px"}},{default:n(()=>[ye]),_:1}),t(C,{disabled:"",value:u.id},null,8,["value"])]),_:1})]),S("div",null,[t(_,null,{default:n(()=>[t(d,{secondary:"",strong:"",type:"primary",style:{"margin-right":"10px"}},{default:n(()=>[ve]),_:1}),t(C,{disabled:"",value:u.name},null,8,["value"])]),_:1})])]),_:1}),t(d,{secondary:"",strong:"",type:"success",onClick:i},{default:n(()=>[ge]),_:1}),t(F,{vertical:"",size:28},{default:n(()=>[(b(!0),T(Q,null,K(e.value,r=>(b(),T("div",{key:r.name,justify:"space-between",class:"flex w-full"},[t(_,{style:{"margin-right":"10px"}},{default:n(()=>[t(d,{secondary:"",strong:"",type:"primary",style:{"margin-right":"10px"}},{default:n(()=>[Fe]),_:1}),t(h,{value:r.name,"onUpdate:value":o=>r.name=o,options:s},null,8,["value","onUpdate:value"])]),_:2},1024),t(_,{style:{"margin-right":"10px"}},{default:n(()=>[t(d,{secondary:"",strong:"",type:"primary",style:{"margin-right":"10px"}},{default:n(()=>[he]),_:1}),t(x,{value:r.value,"onUpdate:value":o=>r.value=o,style:{width:"100%"}},null,8,["value","onUpdate:value"])]),_:2},1024),t(d,{type:"error",secondary:"",strong:"",onClick:()=>f(r.id)},{default:n(()=>[Ee]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})}}}),De=p("\u65B0\u589E\u8BBE\u5907"),be=p("\u79DF\u7528\u8BBE\u5907"),Ge=I({setup(u){const{isFullscreen:s}=W(),{data:e,columns:i,columnSrcs:k}=A(),f=O(""),c=X(()=>f.value?e.value.filter(a=>a.name.includes(f.value)):e.value),g=Y(),d={handler:a=>a.source===q.Own,rejectAction:()=>g.error("\u79DF\u7528\u8BBE\u5907\u65E0\u6CD5\u6267\u884C\u8BE5\u64CD\u4F5C"),returnImdiately:!0};function C(a){h.info({title:"\u914D\u7F6E\u4EA7\u54C1",style:{width:"60vw"},content:()=>w(Ce,{id:a.id,name:a.name}),positiveText:"\u4FDD\u5B58",negativeText:"\u53D6\u6D88",onPositiveClick:()=>{g.success("\u914D\u7F6E\u5DF2\u4FDD\u5B58\uFF01")}})}i.value.push(ue(k,d)),i.value.push(ne(C)),i.value.push(ae(_,d));function _(a){e.value.splice(e.value.findIndex(y=>y.name===a.name),1)}const{columnSrcs:F}=A(),h=j();function x(){h.success({title:"\u65B0\u589E\u8BBE\u5907",content:()=>w(le,{columnSrcs:F})})}const{data:r,columns:o}=A();r.value.splice(10,20);const U=o.value.findIndex(a=>a.key==="power");o.value.splice(U,1);const P=o.value.findIndex(a=>a.key==="factory");o.value.splice(P,1);const M=o.value.findIndex(a=>a.key==="source");o.value.splice(M,1),o.value.push(se(L));function L(a){r.value.splice(r.value.findIndex(y=>y.name===a.name),1)}function G(){h.info({title:"\u79DF\u7528\u8BBE\u5907",style:{width:"80vw",height:"700px"},content:()=>w(N,{columns:o.value,data:r.value,pageSize:15})})}return(a,y)=>{const $=E,D=B;return b(),R(D,{vertical:!0,size:16},{default:n(()=>[t(D,{vertical:""},{default:n(()=>[t(N,{title:"\u8BBE\u5907\u4FE1\u606F\u5217\u8868",columns:v(i),data:v(c),"page-size":15,height:v(s)?580:480},{default:n(()=>[t(D,{justify:"space-between"},{default:n(()=>[t(D,null,{default:n(()=>[t($,{type:"primary",secondary:"",onClick:x},{default:n(()=>[De]),_:1}),t($,{type:"success",secondary:"",onClick:G},{default:n(()=>[be]),_:1})]),_:1}),t(v(V),{value:f.value,"onUpdate:value":y[0]||(y[0]=H=>f.value=H),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:n(()=>[t(v(ce),{component:v(ie)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data","height"])]),_:1})]),_:1})}}});export{Ge as default};
