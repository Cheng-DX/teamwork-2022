import{E as n}from"./business.0884cf3a.js";import{u as C,_ as F,F as $}from"./index.da4cdef3.js";import{f as o,r as v,d as x,b as A,a as E,c as N,e as U,w as u,o as S,g as d,h as I,i as T,_ as j}from"./index.80fed765.js";import{_}from"./Input.feaaa554.js";import{N as z}from"./Dropdown.a80bde40.js";import O from"./index.d34e9aec.js";import{b as V,a as M}from"./useOption.063743f9.js";import{N as R}from"./Icon.5d059f7d.js";import{_ as q}from"./Space.9011e73e.js";import"./use-locale.f9c35fc7.js";import"./DataTable.c5f436dc.js";import"./Checkbox.636905b4.js";import"./RadioGroup.5c8f9b97.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.edb7a201.js";import"./rule.724493a2.js";import"./useSmsCode.84c6740f.js";import"./InputNumber.2526d7ff.js";import"./InputGroup.2419cda6.js";const h=[{title:"\u7528\u6237\u540D",key:"username"},{title:"\u7535\u8BDD\u53F7\u7801",key:"phone",form:{type:"input"}},{title:"\u5BC6\u7801",key:"password",renderer:e=>o(_,{type:"password","show-password-on":"mousedown",value:e.password},null),form:{renderer:e=>o(_,{type:"password","show-password-on":"click",value:e,"onUpdate:value":t=>e=t},null)}},{title:"\u5DE5\u5382\u540D/\u7ECF\u9500\u5546\u4EE3\u53F7",key:"name"},{title:"\u89D2\u8272",key:"role",renderer:e=>o(z,{type:G(e.role)},{default:()=>[e.role]}),form:{type:"select",options:[{label:"\u4E91\u5DE5\u5382\u7BA1\u7406\u5458",value:n.admin},{label:"\u7ECF\u9500\u5546",value:n.dealer}]}}];function G(e){switch(e){case n.super:return"success";case n.admin:return"info";default:return"warning"}}function H(){const e=[];e.push({username:"admin",phone:"16666666666",password:"chengdx0925@126.com",name:"super admin",role:n.super});for(let t=0;t<10;t++){const r=`user${t}`,c=`${r}@cloudFac.com`,i=`13${t.toString().repeat(9)}`;e.push({username:r,phone:i,password:c,name:`${r}\u7684${t%2==0?"\u5DE5\u5382":"\u5E97\u94FA"}`,role:t%2==0?n.admin:n.dealer})}return e}function J(){const e=v(H()),t=C(e,h);return{data:e,columns:t,columnSrcs:h}}const K=I("\u6DFB\u52A0\u7528\u6237"),de=x({setup(e){const{data:t,columns:r,columnSrcs:c}=J(),i=A(),w=E(),a=v(""),y=N(()=>a.value?t.value.filter(s=>s.username.includes(a.value)):t.value),f={handler:s=>s.role!==n.super,rejectAction:()=>{w.error("\u4E0D\u80FD\u5BF9\u8D85\u7EA7\u7BA1\u7406\u5458\u6267\u884C\u8BE5\u64CD\u4F5C")},returnImdiately:!0};r.value.push(V(c,f)),r.value.push(M(g,f));function g(s){const{username:l}=s;t.value.splice(t.value.findIndex(p=>p.username===l),1)}function k(){i.info({title:"\u6DFB\u52A0\u7528\u6237",content:()=>T(O,{disableBack:!0})})}return(s,l)=>{const p=j,b=R,B=_,m=q;return S(),U(m,{vertical:!0,size:16},{default:u(()=>[o(m,{vertical:""},{default:u(()=>[o(F,{title:"\u7528\u6237\u7BA1\u7406",columns:d(r),data:d(y),"page-size":10,height:480},{default:u(()=>[o(m,{justify:"space-between"},{default:u(()=>[o(p,{type:"primary",secondary:"",strong:"",onClick:k},{default:u(()=>[K]),_:1}),o(B,{value:a.value,"onUpdate:value":l[0]||(l[0]=D=>a.value=D),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[o(b,{component:d($)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{de as default};
