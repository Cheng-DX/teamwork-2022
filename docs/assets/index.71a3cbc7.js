import{E as s}from"./business.0884cf3a.js";import{a as b,u as x,_ as A}from"./useOption.8a573d00.js";import{r as d,c as n,d as B,f as $,bN as F,e as N,g as w,w as u,o as C,h as _,b as E,j as U,_ as j}from"./index.202d693a.js";import{e as I,N as T}from"./Dropdown.e08b9672.js";import z from"./index.ae5f61e2.js";import{F as O}from"./FlashOutline.5e2bf0fd.js";import{_ as S}from"./Space.fec248b2.js";import{_ as V}from"./Input.e67e0d4e.js";import"./useBoolean.dd387fb2.js";import"./DataTable.d585bb1f.js";import"./Checkbox.409a15a5.js";import"./RadioGroup.2cc0ad11.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./use-locale.a0ad6277.js";import"./rule.71e9ab13.js";import"./useSmsCode.ea1fd8fe.js";const M=[{title:"\u7528\u6237\u540D",key:"username"},{title:"\u7535\u8BDD\u53F7\u7801",key:"phone"},{title:"\u90AE\u7BB1",key:"email"},{title:"\u5DE5\u5382\u540D/\u7ECF\u9500\u5546\u4EE3\u53F7",key:"name"},{title:"\u89D2\u8272",key:"role",renderer:t=>n(I,{type:R(t.role)},{default:()=>[t.role]})}];function R(t){switch(t){case s.super:return"success";case s.admin:return"info";default:return"warning"}}function q(){const t=[];t.push({username:"admin",phone:"16666666666",email:"chengdx0925@126.com",name:"super admin",role:s.super});for(let e=0;e<10;e++){const o=`user${e}`,i=`${o}@cloudFac.com`,l=`13${e.toString().repeat(9)}`;t.push({username:o,phone:l,email:i,name:`${o}\u7684${e%2==0?"\u5DE5\u5382":"\u5E97\u94FA"}`,role:e%2==0?s.admin:s.dealer})}return t}function G(){const t=d(q()),e=b(t,M);return{data:t,columns:e}}const H=E("\u6DFB\u52A0\u7528\u6237"),ce=B({setup(t){const{data:e,columns:o}=G(),i=$(),l=F(),a=d(""),f=N(()=>a.value?e.value.filter(r=>r.username.includes(a.value)):e.value),h={handler:r=>r.role!==s.super,rejectAction:()=>{l.error("\u4E0D\u80FD\u5220\u9664\u8D85\u7EA7\u7BA1\u7406\u5458")},returnImdiately:!0};o.value.push(x(g,h));function g(r){const{username:c}=r;e.value.splice(e.value.findIndex(m=>m.username===c),1)}function v(){i.info({title:"\u6DFB\u52A0\u7528\u6237",content:()=>U(z,{disableBack:!0})})}return(r,c)=>{const m=j,y=T,k=V,p=S;return C(),w(p,{vertical:!0,size:16},{default:u(()=>[n(p,{vertical:""},{default:u(()=>[n(A,{title:"\u7528\u6237\u7BA1\u7406",columns:_(o),data:_(f),"page-size":10,height:480},{default:u(()=>[n(p,{justify:"space-between"},{default:u(()=>[n(m,{type:"primary",secondary:"",strong:"",onClick:v},{default:u(()=>[H]),_:1}),n(k,{value:a.value,"onUpdate:value":c[0]||(c[0]=D=>a.value=D),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[n(y,{component:_(O)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{ce as default};
