import{E as n}from"./business.0884cf3a.js";import{u as C,_ as F}from"./index.adef7795.js";import{f as o,r as v,d as $,b as x,a as A,c as E,e as N,w as u,o as U,g as d,h as S,i as I,_ as T}from"./index.ce602150.js";import{_}from"./Input.43e7cde8.js";import{N as j}from"./Dropdown.92faf3ac.js";import z from"./index.19e9738d.js";import{b as O,a as V}from"./useOption.756d80b2.js";import{F as M}from"./FlashOutline.a9829241.js";import{N as R}from"./Icon.491a8a21.js";import{_ as q}from"./Space.38dfe61a.js";import"./use-locale.eea09bdd.js";import"./DataTable.b774f1fd.js";import"./Checkbox.0cb4692c.js";import"./RadioGroup.819b5fd0.js";import"./get-slot.ef4c002f.js";import"./next-frame-once.3f36dc6b.js";import"./useBoolean.8fb260e3.js";import"./rule.2210a85f.js";import"./useSmsCode.251c47f6.js";import"./InputNumber.f2894667.js";import"./InputGroup.fbd59ee6.js";const h=[{title:"\u7528\u6237\u540D",key:"username"},{title:"\u7535\u8BDD\u53F7\u7801",key:"phone",form:{type:"input"}},{title:"\u5BC6\u7801",key:"password",renderer:e=>o(_,{type:"password","show-password-on":"mousedown",value:e.password},null),form:{renderer:e=>o(_,{type:"password","show-password-on":"click",value:e,"onUpdate:value":t=>e=t},null)}},{title:"\u5DE5\u5382\u540D/\u7ECF\u9500\u5546\u4EE3\u53F7",key:"name"},{title:"\u89D2\u8272",key:"role",renderer:e=>o(j,{type:G(e.role)},{default:()=>[e.role]}),form:{type:"select",options:[{label:"\u4E91\u5DE5\u5382\u7BA1\u7406\u5458",value:n.admin},{label:"\u7ECF\u9500\u5546",value:n.dealer}]}}];function G(e){switch(e){case n.super:return"success";case n.admin:return"info";default:return"warning"}}function H(){const e=[];e.push({username:"admin",phone:"16666666666",password:"chengdx0925@126.com",name:"super admin",role:n.super});for(let t=0;t<10;t++){const r=`user${t}`,c=`${r}@cloudFac.com`,i=`13${t.toString().repeat(9)}`;e.push({username:r,phone:i,password:c,name:`${r}\u7684${t%2==0?"\u5DE5\u5382":"\u5E97\u94FA"}`,role:t%2==0?n.admin:n.dealer})}return e}function J(){const e=v(H()),t=C(e,h);return{data:e,columns:t,columnSrcs:h}}const K=S("\u6DFB\u52A0\u7528\u6237"),_e=$({setup(e){const{data:t,columns:r,columnSrcs:c}=J(),i=x(),w=A(),a=v(""),y=E(()=>a.value?t.value.filter(s=>s.username.includes(a.value)):t.value),f={handler:s=>s.role!==n.super,rejectAction:()=>{w.error("\u4E0D\u80FD\u5BF9\u8D85\u7EA7\u7BA1\u7406\u5458\u6267\u884C\u8BE5\u64CD\u4F5C")},returnImdiately:!0};r.value.push(O(c,f)),r.value.push(V(g,f));function g(s){const{username:l}=s;t.value.splice(t.value.findIndex(p=>p.username===l),1)}function k(){i.info({title:"\u6DFB\u52A0\u7528\u6237",content:()=>I(z,{disableBack:!0})})}return(s,l)=>{const p=T,b=R,B=_,m=q;return U(),N(m,{vertical:!0,size:16},{default:u(()=>[o(m,{vertical:""},{default:u(()=>[o(F,{title:"\u7528\u6237\u7BA1\u7406",columns:d(r),data:d(y),"page-size":10,height:480},{default:u(()=>[o(m,{justify:"space-between"},{default:u(()=>[o(p,{type:"primary",secondary:"",strong:"",onClick:k},{default:u(()=>[K]),_:1}),o(B,{value:a.value,"onUpdate:value":l[0]||(l[0]=D=>a.value=D),placeholder:"\u641C\u7D22",round:"",clearable:""},{prefix:u(()=>[o(b,{component:d(M)},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["columns","data"])]),_:1})]),_:1})}}});export{_e as default};
